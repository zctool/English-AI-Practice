<html>
    <body>
        <script src="https://accounts.google.com/gsi/client"></script>
        <script>
            function handleCallback(response) {
                console.log(response);
                const data = parseJwt(response.credential);
                console.log(data);

                // 找到要顯示資料的元素
                var displayElement = document.getElementById('user_info');

                // 創建要顯示的資料字符串
                var userInfo = "Welcome, " + data.name + "!<br>";
                userInfo += "Your email is: " + data.email;

                // 插入資料到元素中
                displayElement.innerHTML = userInfo;
            }

            function parseJwt(token) {
                var base64Url = token.split('.')[1];
                var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
                var jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {
                    return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
                }).join(''));

                return JSON.parse(jsonPayload);
            }
        </script>
        <div
            id="g_id_onload"
            data-client_id="49241093853-q97vjg4n2gsaqfjb27hrinc882h0r60s.apps.googleusercontent.com"
            data-callback="handleCallback"
            data-auto_prompt="false"></div>
        <div
            class="g_id_signin"
            data-type="standard"
            data-size="large"
            data-theme="outline"
            data-text="sign_in_with"
            data-shape="pill"
            data-logo_alignment="left"></div>

        <!-- 顯示資料的元素 -->
        <div id="user_info"></div>
    </body>
</html>
