<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>è‹±èªæ™ºå­¸ç®¡ç†å¾Œå°</title>
    <style>
      :root {
        --primary-color: #4a90e2;
        --secondary-color: #2c3e50;
        --background-color: #f4f6f9;
        --text-color: #34495e;
        --button-color: #27ae60;
        --footer-color: #34495e;
        --footer-text-color: #ecf0f1;
        --header-height: 60px;
        --footer-height: 60px;
        --sidebar-width: 240px;
        --sidebar-collapsed-width: 60px;
      }
      body,
      html {
        margin: 0;
        padding: 0;
        height: 100%;
        font-family: "Microsoft JhengHei", "Segoe UI", Tahoma, Geneva, Verdana,
          sans-serif;
        background-color: var(--background-color);
        color: var(--text-color);
      }
      body {
        display: flex;
        flex-direction: column;
      }
      .main-wrapper {
        display: flex;
        flex: 1;
        overflow: hidden;
      }
      /* Header Styles */
      header {
        height: var(--header-height);
        background-color: white;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        padding: 0 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        z-index: 1000;
      }
      .logo {
        font-size: 22px;
        font-weight: bold;
        color: var(--primary-color);
      }
      .login-btn {
        background-color: var(--button-color);
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 14px;
      }
      /* Sidebar Styles */
      .sidebar {
        width: var(--sidebar-width);
        background-color: var(--secondary-color);
        overflow-y: auto;
        transition: all 0.3s ease;
        flex-shrink: 0;
        max-height: calc(100vh - var(--header-height));
      }
      .sidebar h2 {
        color: #fff;
        margin: 20px 0;
        font-size: 20px;
        padding: 0 20px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        padding-bottom: 10px;
      }
      .sidebar ul {
        list-style-type: none;
        padding: 0;
        margin: 0;
      }
      .sidebar ul li {
        margin: 5px 10px;
      }
      .sidebar ul li a {
        text-decoration: none;
        color: #fff;
        display: flex;
        align-items: center;
        padding: 10px;
        transition: all 0.3s ease;
        cursor: pointer;
        border-radius: 30px;
      }
      .sidebar ul li a:hover,
      .sidebar ul li a.active {
        background-color: rgba(255, 255, 255, 0.1);
      }
      .sidebar ul li a .icon {
        margin-right: 10px;
        font-size: 20px;
        width: 24px;
        text-align: center;
      }
      .sidebar ul li a .text {
        flex-grow: 1;
      }
      .dropdown-content {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease-out;
      }
      .dropdown-content.show {
        max-height: 500px; /* Increase the max-height to show more items */
      }
      .dropdown-content a {
        padding-left: 44px !important;
      }
      /* Content Styles */
      .content-wrapper {
        flex: 1;
        display: flex;
        flex-direction: column;
        overflow: hidden;
      }
      .content {
        flex: 1;
        padding: 20px;
        overflow: auto;
      }
      iframe {
        width: 100%;
        height: 100%;
        border: none;
        background-color: #fff;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      }
      /* Footer Styles */
      footer {
        background-color: var(--footer-color);
        color: var(--footer-text-color);
        padding: 10px 20px;
        text-align: center;
        height: var(--footer-height);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }
      footer .copyright {
        font-size: 14px;
        margin-bottom: 5px;
      }
      footer .links {
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
      }
      footer .links a {
        color: var(--footer-text-color);
        text-decoration: none;
        margin: 0 10px;
        font-size: 14px;
        transition: opacity 0.3s ease;
      }
      footer .links a:hover {
        opacity: 0.8;
      }

      /* Responsive Design */
      @media screen and (max-width: 1024px) {
        .sidebar {
          width: var(--sidebar-collapsed-width);
        }
        .sidebar:hover {
          width: var(--sidebar-width);
        }
        .sidebar h2 {
          display: none;
        }
        .sidebar:hover h2 {
          display: block;
        }
        .sidebar ul li a .text {
          display: none;
        }
        .sidebar:hover ul li a .text {
          display: inline;
        }
        .sidebar ul li a {
          justify-content: center;
        }
        .sidebar:hover ul li a {
          justify-content: flex-start;
        }
        .sidebar ul li a .icon {
          margin-right: 0;
        }
        .sidebar:hover ul li a .icon {
          margin-right: 10px;
        }
      }

      @media screen and (max-width: 768px) {
        .main-wrapper {
          position: relative;
        }
        .sidebar {
          position: absolute;
          left: -var(--sidebar-collapsed-width);
          top: 0;
          bottom: 0;
          z-index: 1000;
        }
        .sidebar.active {
          left: 0;
        }
        .content-wrapper {
          margin-left: var(--sidebar-collapsed-width);
        }
      }

      @media screen and (max-width: 480px) {
        .logo {
          font-size: 18px;
        }
        .login-btn {
          font-size: 12px;
          padding: 6px 12px;
        }
        footer .links a {
          margin: 5px 10px;
        }
        header #branding {
          display: flex;
          align-items: center;
        }
    
        header #branding h1 {
          font-size: 1.5rem;
          margin: 0;
        }
        header .highlight,
        header .current a {
          color: #87d1c3;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <div id="branding">
        <h1><span class="highlight">E</span>UDORA</h1>
      </div>
      <button
        class="login-btn"
        onclick="location.href='{{ url_for('logout') }}'"
      >
        ç™»å‡º
      </button>
    </header>
    <div class="main-wrapper">
      <div class="sidebar" id="sidebar">
        <h2>ç®¡ç†æ§åˆ¶å°</h2>
        <ul>
          
          <li>
            <a onclick="toggleDropdown('conversation')" id="conversations-link"
              ><span class="icon"
                ><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
                  <defs>
                    <linearGradient
                      id="grad"
                      x1="0%"
                      y1="0%"
                      x2="100%"
                      y2="100%"
                    >
                      <stop
                        offset="0%"
                        style="stop-color: #2c3e50; stop-opacity: 1"
                      />
                      <stop
                        offset="100%"
                        style="stop-color: #3498db; stop-opacity: 1"
                      />
                    </linearGradient>
                  </defs>
                  <path
                    d="M80 40c0-16.5-13.5-30-30-30s-30 13.5-30 30c0 11.5 6.5 21.5 16 26.5L30 80l13.5-13.5c2.1 0.7 4.3 1 6.5 1 16.5 0 30-13.5 30-30z"
                    fill="url(#grad)"
                    stroke="#ffffff"
                    stroke-width="4"
                  />
                  <path
                    d="M80 40c0-16.5-13.5-30-30-30s-30 13.5-30 30c0 11.5 6.5 21.5 16 26.5L30 80l13.5-13.5c2.1 0.7 4.3 1 6.5 1 16.5 0 30-13.5 30-30z"
                    fill="none"
                    stroke="#34495e"
                    stroke-width="2"
                  />
                  <circle cx="35" cy="40" r="5" fill="#ecf0f1" />
                  <circle cx="50" cy="40" r="5" fill="#ecf0f1" />
                  <circle cx="65" cy="40" r="5" fill="#ecf0f1" /></svg></span
              ><span class="text">å°è©±</span></a
            >
            <div id="conversation" class="dropdown-content">
              <a onclick="loadPage('{{ url_for('admin.add_conversation') }}')"
                ><span class="icon">â•</span
                ><span class="text">æ–°å¢å°è©±</span></a
              >
              <a
                onclick="loadPage('{{ url_for('admin.add_conversation_topic') }}')"
                ><span class="icon">â•</span
                ><span class="text">æ–°å¢ä¸»é¡Œ</span></a
              >
              <a
                onclick="loadPage('{{ url_for('admin.add_conversation_situation') }}')"
                ><span class="icon">â•</span
                ><span class="text"> æ–°å¢æƒ…å¢ƒ</span></a
              >
              <a
                onclick="loadPage('{{ url_for('admin.admin_conversation_situations') }}')"
                ><span class="icon">ğŸ“‹</span
                ><span class="text"> æƒ…å¢ƒåˆ—è¡¨</span></a
              >
              <a onclick="loadPage('{{ url_for('admin.conversations') }}')"
                ><span class="icon">ğŸ“‹</span
                ><span class="text"> å°è©±åˆ—è¡¨</span></a
              >
              <a
                onclick="loadPage('{{ url_for('admin.admin_conversation_topics') }}')"
                ><span class="icon">ğŸ“‹</span
                ><span class="text"> ä¸»é¡Œåˆ—è¡¨</span></a
              >
            </div>
          </li>
          <li>
            <a onclick="toggleDropdown('vocabulary')" id="vocabularies-link"
              ><span class="icon"
                ><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
                  <defs>
                    <linearGradient
                      id="grad"
                      x1="0%"
                      y1="0%"
                      x2="100%"
                      y2="100%"
                    >
                      <stop
                        offset="0%"
                        style="stop-color: #6a11cb; stop-opacity: 1"
                      />
                      <stop
                        offset="100%"
                        style="stop-color: #2575fc; stop-opacity: 1"
                      />
                    </linearGradient>
                  </defs>
                  <rect
                    x="0"
                    y="0"
                    width="100"
                    height="100"
                    rx="20"
                    ry="20"
                    fill="url(#grad)"
                  />
                  <path
                    d="M50 25 L25 75 H75 L50 25 Z M35 60 H65"
                    fill="none"
                    stroke="white"
                    stroke-width="6"
                    stroke-linejoin="round"
                    stroke-linecap="round"
                  /></svg></span
              ><span class="text">å–®å­—</span></a
            >
            <div id="vocabulary" class="dropdown-content">
              <a onclick="loadPage('{{ url_for('admin.add_vocabulary') }}')"
                ><span class="icon">â•</span
                ><span class="text">æ–°å¢å–®å­—</span></a
              >
              <a
                onclick="loadPage('{{ url_for('admin.add_vocabulary_topic') }}')"
                ><span class="icon">â•</span
                ><span class="text">æ–°å¢ä¸»é¡Œ</span></a
              >
              <a onclick="loadPage('{{ url_for('admin.vocabularies') }}')"
                ><span class="icon">ğŸ“‹</span
                ><span class="text">å–®å­—åˆ—è¡¨</span></a
              >
              <a
                onclick="loadPage('{{ url_for('admin.admin_vocabulary_topics') }}')"
                ><span class="icon">ğŸ“‹</span
                ><span class="text">ä¸»é¡Œåˆ—è¡¨</span></a
              >
            </div>
          </li>
        
          <li>
            <a onclick="loadPage('{{ url_for('admin.admin_permission') }}')" 
              ><span class="icon">ğŸ‘¨â€ğŸ«</span><span class="text">ä½¿ç”¨è€…ç®¡ç†</span></a
            >
          </li>
        </ul>
      </div>
      <div class="content-wrapper">
        <div class="content">
          <iframe
            id="contentFrame"
            src="{{ url_for('admin.add_conversation') }}"
            name="content"
          ></iframe>
        </div>
      </div>
    </div>
    <footer>
      <div class="copyright">Â© 2024 è‹±èªæ™ºå­¸. ç‰ˆæ¬Šæ‰€æœ‰.</div>
      <div class="links">
        <a href="#">éš±ç§æ”¿ç­–</a>
        <a href="#">ä½¿ç”¨æ¢æ¬¾</a>
        <a href="#">è¯çµ¡æˆ‘å€‘</a>
      </div>
    </footer>

    <script>
      function loadPage(url) {
        document.getElementById("contentFrame").src = url;
        setActivePage(url);
        if (window.innerWidth <= 768) {
          toggleSidebar();
        }
      }

      function toggleDropdown(id) {
        var dropdowns = document.getElementsByClassName("dropdown-content");
        for (var i = 0; i < dropdowns.length; i++) {
          if (dropdowns[i].id !== id) {
            dropdowns[i].classList.remove("show");
          }
        }
        var dropdown = document.getElementById(id);
        dropdown.classList.toggle("show");
      }

      function setActivePage(url) {
        var links = document.querySelectorAll(".sidebar a");
        links.forEach(function (link) {
          link.classList.remove("active");
        });
        var activeLink = document.querySelector(
          '.sidebar a[onclick*="' + url + '"]'
        );
        if (activeLink) {
          activeLink.classList.add("active");
        }
      }

      function toggleSidebar() {
        document.getElementById("sidebar").classList.toggle("active");
      }

      // åˆå§‹åŒ–æ´»å‹•é é¢
      setActivePage("'{{ url_for('admin.add_conversation') }}'");
    </script>
  </body>
</html>
